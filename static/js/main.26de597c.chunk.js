(this.webpackJsonpenigma=this.webpackJsonpenigma||[]).push([[0],{21:function(t,e,r){},22:function(t,e,r){},23:function(t,e,r){},25:function(t,e,r){"use strict";r.r(e);var n=r(1),o=r.n(n),s=r(13),a=r.n(s),i=(r(21),r(11)),c=r(10),f=r(4),u=(r(22),r(23),r(0));var l=function(t){var e=t.bulb,r="light-bulb";return e.lightOn&&(r+=" on"),Object(u.jsx)("div",{className:r,children:e.letter})},h=r(7),d=r(8),b=r(14),v=r(15),g=r(16),O=65,j=function(t){Object(b.a)(r,t);var e=Object(v.a)(r);function r(){return Object(h.a)(this,r),e.apply(this,arguments)}return Object(d.a)(r,[{key:"transfer",value:function(t){return this.has(t)?this.get(t):t}},{key:"setPlugs",value:function(t){var e,r=Object(f.a)(t);try{for(r.s();!(e=r.n()).done;){var n=e.value.split(""),o=Object(c.a)(n,2),s=o[0],a=o[1];this.set(s,a),this.set(a,s)}}catch(i){r.e(i)}finally{r.f()}}}]),r}(Object(g.a)(Map)),p=function(){function t(e,r){Object(h.a)(this,t),this.no=e,this.offset=r}return Object(d.a)(t,[{key:"forwardTransfer",value:function(t){if(1!==t.length)throw new Error("Rotor.transfer: Input length must be 1");var e=t.charCodeAt(0);return e<O&&e>90?t:String.fromCharCode(O+(e-O+this.offset)%26)}},{key:"backwardTransfer",value:function(t){if(1!==t.length)throw new Error("Rotor.transfer: Input length must be 1");var e=t.charCodeAt(0);return e<O&&e>90?t:String.fromCharCode(O+(26-(e-O+this.offset)%26)%26)}}]),t}(),y=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:13;Object(h.a)(this,t),this.offset=e}return Object(d.a)(t,[{key:"transfer",value:function(t){if(1!==t.length)throw new Error("Reflector.transfer: Input length must be 1");var e=t.charCodeAt(0);return e<O&&e>90?t:String.fromCharCode(O+(e-O+this.offset)%26)}}]),t}(),m=function(){function t(){Object(h.a)(this,t),this.rotors=[],this.reflector=new y,this.plugBoard=new j,console.log("Enigma was built.")}return Object(d.a)(t,[{key:"resetConfig",value:function(){this.rotors=[],this.plugBoard.clear()}},{key:"setConfig",value:function(t){this.resetConfig();for(var e=0;e<t.rotorlOrders.length;e++)this.rotors.push(new p(t.rotorlOrders[e],t.rotorPositions[e]));this.plugBoard.setPlugs(t.plugs)}},{key:"encrypt",value:function(t){var e=t.toUpperCase();e=this.plugBoard.transfer(e);for(var r=0;r<this.rotors.length;r++)e=this.rotors[r].forwardTransfer(e);e=this.reflector.transfer(e);for(var n=this.rotors.length-1;n>=0;n--)e=this.rotors[n].backwardTransfer(e);return e=this.plugBoard.transfer(e),this.addOneTick(),e}},{key:"addOneTick",value:function(){this.rotors[0].offset++;for(var t=0;t<this.rotors.length;t++)0!==t&&0===this.rotors[t-1].offset&&this.rotors[t].offset++}},{key:"subtractOneTick",value:function(){var t=this.rotors[0].offset-1;this.rotors[0].offset=(26+t)%26;for(var e=0;e<this.rotors.length;e++)if(0!==e&&25===this.rotors[e-1].offset){var r=this.rotors[e].offset-1;this.rotors[e].offset=(26+r)%26}}}]),t}(),k=new m;function w(t){var e,r=[],n=Object(f.a)(t);try{for(n.s();!(e=n.n()).done;){var o=e.value;r.push(Object(u.jsx)(l,{bulb:o},o.letter))}}catch(s){n.e(s)}finally{n.f()}return r}function C(t,e,r){var n,o=Object(f.a)(t);try{for(o.s();!(n=o.n()).done;){var s,a=n.value,i=Object(f.a)(a);try{for(i.s();!(s=i.n()).done;){var c=s.value;if(c.letter===e)return Object.assign(c,{lightOn:r}),t}}catch(u){i.e(u)}finally{i.f()}}}catch(u){o.e(u)}finally{o.f()}return t}k.setConfig({rotorlOrders:["I","II","III"],rotorPositions:[1,2,3],plugs:["AX","BY","CZ","DU","EF","GH","IK","JL","MP","NO","QW","RT","SV"]});var I=function(){var t=[["Q","W","E","R","T","Y","U","I","O","P"],["A","S","D","F","G","H","J","K","L"],["Z","X","C","V","B","N","M"]].map((function(t){return t.map((function(t){return{letter:t,lightOn:!1}}))})),e=Object(n.useState)([]),r=Object(c.a)(e,2),o=r[0],s=r[1],a=Object(n.useRef)(t),f=Object(n.useCallback)((function(t){if(/^\w$/.test(t.key)){var e=k.encrypt(t.key);C(a.current,e,!0),s([].concat(Object(i.a)(o),[e])),C(a.current,e,!1)}else if("Space"===t.code)s([].concat(Object(i.a)(o),[" "]));else if("Backspace"===t.code){if(0===o.length)return;" "!==o[o.length-1]&&k.subtractOneTick();var r=Object(i.a)(o);r.splice(r.length-1,1),s(r)}}),[o,a,s]);return Object(n.useEffect)((function(){return document.addEventListener("keydown",f,!1),function(){document.removeEventListener("keydown",f)}}),[f]),Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)("header",{children:Object(u.jsx)("img",{src:"Enigma-logo.svg",alt:"Enigma"})}),Object(u.jsx)("div",{className:"indicator",children:o}),Object(u.jsx)("div",{className:"row",children:w(a.current[0])}),Object(u.jsx)("div",{className:"row",children:w(a.current[1])}),Object(u.jsx)("div",{className:"row",children:w(a.current[2])})]})},E=function(t){t&&t instanceof Function&&r.e(3).then(r.bind(null,26)).then((function(e){var r=e.getCLS,n=e.getFID,o=e.getFCP,s=e.getLCP,a=e.getTTFB;r(t),n(t),o(t),s(t),a(t)}))};a.a.render(Object(u.jsx)(o.a.StrictMode,{children:Object(u.jsx)(I,{})}),document.getElementById("root")),E()}},[[25,1,2]]]);
//# sourceMappingURL=main.26de597c.chunk.js.map